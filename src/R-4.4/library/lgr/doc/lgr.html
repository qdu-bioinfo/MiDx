<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Stefan Fleck" />

<meta name="date" content="2022-09-05" />

<title>lgr: A fully featured logging framework for R</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">lgr: A fully featured logging framework for
R</h1>
<h4 class="author">Stefan Fleck</h4>
<h4 class="date">2022-09-05</h4>


<div id="TOC">
<ul>
<li><a href="#introduction" id="toc-introduction"><span class="toc-section-number">1</span> Introduction</a>
<ul>
<li><a href="#quickstart" id="toc-quickstart"><span class="toc-section-number">1.1</span> Quickstart</a>
<ul>
<li><a href="#logging-to-the-console" id="toc-logging-to-the-console"><span class="toc-section-number">1.1.1</span> Logging to the console</a></li>
<li><a href="#logging-to-plaintext-files" id="toc-logging-to-plaintext-files"><span class="toc-section-number">1.1.2</span> Logging to plaintext
files</a></li>
<li><a href="#logging-to-json-files" id="toc-logging-to-json-files"><span class="toc-section-number">1.1.3</span> Logging to JSON files</a></li>
<li><a href="#structured-logging-custom-fields" id="toc-structured-logging-custom-fields"><span class="toc-section-number">1.1.4</span> Structured Logging (custom
fields)</a></li>
<li><a href="#what-else" id="toc-what-else"><span class="toc-section-number">1.1.5</span> What Else</a></li>
</ul></li>
</ul></li>
<li><a href="#usage" id="toc-usage"><span class="toc-section-number">2</span> Usage</a>
<ul>
<li><a href="#structure-of-the-logging-system" id="toc-structure-of-the-logging-system"><span class="toc-section-number">2.1</span> Structure of the logging
system</a>
<ul>
<li><a href="#on-r6-classes" id="toc-on-r6-classes"><span class="toc-section-number">2.1.1</span> On R6 classes</a></li>
</ul></li>
<li><a href="#log-levels" id="toc-log-levels"><span class="toc-section-number">2.2</span> Log levels</a></li>
<li><a href="#logging-with-the-root-logger" id="toc-logging-with-the-root-logger"><span class="toc-section-number">2.3</span> Logging with the Root Logger</a>
<ul>
<li><a href="#logging-syntax" id="toc-logging-syntax"><span class="toc-section-number">2.3.1</span> Logging syntax</a></li>
<li><a href="#formatting-strings" id="toc-formatting-strings"><span class="toc-section-number">2.3.2</span> Formatting strings</a></li>
</ul></li>
<li><a href="#logevents-the-atomic-unit-of-logging" id="toc-logevents-the-atomic-unit-of-logging"><span class="toc-section-number">2.4</span> LogEvents: The atomic unit of
logging</a></li>
<li><a href="#thresholds" id="toc-thresholds"><span class="toc-section-number">2.5</span> Thresholds &amp; Filters:
controlling output detail</a></li>
<li><a href="#appenders-managing-log-destinations" id="toc-appenders-managing-log-destinations"><span class="toc-section-number">2.6</span> Appenders: Managing log
destinations</a></li>
<li><a href="#hierarchy" id="toc-hierarchy"><span class="toc-section-number">2.7</span> Inheritance: Hierarchical
Loggers</a>
<ul>
<li><a href="#log-flow" id="toc-log-flow"><span class="toc-section-number">2.7.1</span> Log flow</a></li>
</ul></li>
<li><a href="#logging-with-loggerglue" id="toc-logging-with-loggerglue"><span class="toc-section-number">2.8</span> Logging with LoggerGlue</a></li>
</ul></li>
<li><a href="#configuration" id="toc-configuration"><span class="toc-section-number">3</span> Configuration</a>
<ul>
<li><a href="#with-setters" id="toc-with-setters"><span class="toc-section-number">3.1</span> With setters</a></li>
<li><a href="#with-a-list-object" id="toc-with-a-list-object"><span class="toc-section-number">3.2</span> With a list object</a></li>
<li><a href="#with-yaml-or-json" id="toc-with-yaml-or-json"><span class="toc-section-number">3.3</span> With YAML or JSON</a></li>
</ul></li>
<li><a href="#examples" id="toc-examples"><span class="toc-section-number">4</span> Examples</a>
<ul>
<li><a href="#logging-to-the-console-1" id="toc-logging-to-the-console-1"><span class="toc-section-number">4.1</span> Logging to the console</a></li>
<li><a href="#logging-to-json-files-1" id="toc-logging-to-json-files-1"><span class="toc-section-number">4.2</span> Logging to JSON files</a></li>
<li><a href="#logging-to-rotating-files" id="toc-logging-to-rotating-files"><span class="toc-section-number">4.3</span> Logging to rotating files</a></li>
<li><a href="#examples-hierarchy" id="toc-examples-hierarchy"><span class="toc-section-number">4.4</span> Logger hierarchies</a></li>
<li><a href="#buffered-logging" id="toc-buffered-logging"><span class="toc-section-number">4.5</span> Buffered logging</a></li>
<li><a href="#logging-to-databases" id="toc-logging-to-databases"><span class="toc-section-number">4.6</span> Logging to databases</a></li>
<li><a href="#adding-default-extra-fields-to-messages" id="toc-adding-default-extra-fields-to-messages"><span class="toc-section-number">4.7</span> Adding default extra fields to
messages</a></li>
<li><a href="#temporarily-disable-logging" id="toc-temporarily-disable-logging"><span class="toc-section-number">4.8</span> Temporarily disable
logging</a></li>
<li><a href="#adding-a-custom-logger-to-a-package" id="toc-adding-a-custom-logger-to-a-package"><span class="toc-section-number">4.9</span> Adding a custom logger to a
package</a></li>
<li><a href="#creating-a-layout-that-mimics-nodejs-winston-logstash" id="toc-creating-a-layout-that-mimics-nodejs-winston-logstash"><span class="toc-section-number">4.10</span> Creating a Layout that mimics
NodeJS Winston logstash</a></li>
<li><a href="#adding-the-source-file-r-script-to-the-log-event" id="toc-adding-the-source-file-r-script-to-the-log-event"><span class="toc-section-number">4.11</span> Adding the source file / R-script
to the log event</a></li>
</ul></li>
<li><a href="#references" id="toc-references"><span class="toc-section-number">5</span> References</a></li>
</ul>
</div>

<div id="introduction" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p>lgr is a logging framework for R inspired by <a href="https://logging.apache.org/log4j/2.x/">Apache Log4j</a> and <a href="https://docs.python.org/3/library/logging.html">Python
logging</a>. It follows an object oriented design implemented through <a href="https://github.com/r-lib/R6">R6 classes</a>. This enables lgr to
have a larger set of features than other logging packages for R, and
makes it flexible and easy to extend.</p>
<p>If you are not sure if lgr is the right package for you, take a look
<a href="#examples">examples</a> to see what lgr can do for you.</p>
<div id="quickstart" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Quickstart</h2>
<p>lgr comes with a so-called <strong>root logger</strong> that is ready
to go after you install it. If you are a package developer you can (and
should) set up a new Logger for your package, but more on that later.
For many use cases the root Logger will suffice.</p>
<div id="logging-to-the-console" class="section level3" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> Logging to the
console</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the root logger is called &quot;lgr&quot;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;Vampire stories are generally located in Styria.&quot;</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; INFO  [23:01:11.084] Vampire stories are generally located in Styria.</span></span></code></pre></div>
<p>You can use formatting strings that are passed on to
<code>sprintf()</code> in lgr.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">error</span>(<span class="st">&quot;Vampires generally arrive in carriages drawn by %i black horses.&quot;</span>, <span class="dv">2</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ERROR [23:01:11.116] Vampires generally arrive in carriages drawn by 2 black horses.</span></span></code></pre></div>
</div>
<div id="logging-to-plaintext-files" class="section level3" number="1.1.2">
<h3><span class="header-section-number">1.1.2</span> Logging to
plaintext files</h3>
<p>Usually you don’t (only) want to log to the console, you want to log
to files. Output of Loggers is managed by Appenders. The root Logger is
preconfigured with a console Appender (that is why we see output in the
console). Let’s add a file Appender:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>tf <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">&quot;.info&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">add_appender</span>(AppenderFile<span class="sc">$</span><span class="fu">new</span>(tf), <span class="at">name =</span> <span class="st">&quot;file&quot;</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;You must think I am joking&quot;</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; INFO  [23:01:11.135] You must think I am joking</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">readLines</span>(tf)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;INFO  [2022-09-05 23:01:11.135] You must think I am joking&quot;</span></span></code></pre></div>
<p>The various Appenders available in lgr are R6 classes. To instantiate
an object of that class (i.e. create a new appender) you have to use the
<code>$new()</code> function as in the example above. Whenever you see
something in lgr that <code>IsNamedLikeThis</code>, you can be sure that
it is such an R6 class.</p>
<p>If you look at the output, you see that the timestamp format of the
file appender is slightly different to the timestamp format of the
console Appender. Formatting is handled by <strong>Layouts</strong>, and
each Appender has exactly one:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span>appenders<span class="sc">$</span>file<span class="sc">$</span><span class="fu">set_layout</span>(LayoutFormat<span class="sc">$</span><span class="fu">new</span>(<span class="at">timestamp_fmt =</span> <span class="st">&quot;%B %d %T&quot;</span>))</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;No, I am quite serious&quot;</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; INFO  [23:01:11.153] No, I am quite serious</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">readLines</span>(tf)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;INFO  [2022-09-05 23:01:11.135] You must think I am joking&quot;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2] &quot;INFO  [September 05 23:01:11] No, I am quite serious&quot;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co">#cleanup</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="fu">unlink</span>(tf)</span></code></pre></div>
</div>
<div id="logging-to-json-files" class="section level3" number="1.1.3">
<h3><span class="header-section-number">1.1.3</span> Logging to JSON
files</h3>
<p>If you log to files, you should not log normal text. If you want to
analyse your logs later, it’s much better to log to a format like
JSON:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># cleanup behind the old Appender</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unlink</span>(tf)  </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">remove_appender</span>(<span class="st">&quot;file&quot;</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># setup a JSON appender</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">add_appender</span>(AppenderJson<span class="sc">$</span><span class="fu">new</span>(tf), <span class="at">name =</span> <span class="st">&quot;json&quot;</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;We lived in Styria&quot;</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; INFO  [23:01:11.180] We lived in Styria</span></span></code></pre></div>
<p>JSON is still somewhat human readable</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">readLines</span>(tf))</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; {&quot;level&quot;:400,&quot;timestamp&quot;:&quot;2022-09-05 23:01:11&quot;,&quot;logger&quot;:&quot;root&quot;,&quot;caller&quot;:&quot;eval&quot;,&quot;msg&quot;:&quot;We lived in Styria&quot;}</span></span></code></pre></div>
<p>and easy for machines to parse</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_json_lines</span>(tf)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   level           timestamp logger caller                msg</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   400 2022-09-05 23:01:11   root   eval We lived in Styria</span></span></code></pre></div>
<p>Many Appenders provide either a <code>$show()</code> method and a
<code>$data</code> active binding convenience, and so you do not have to
call <code>readLines()</code> &amp; co manually.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># show is a method and takes some extra arguments, like maximum number of lines</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># to show</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span>appenders<span class="sc">$</span>json<span class="sc">$</span><span class="fu">show</span>()</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; {&quot;level&quot;:400,&quot;timestamp&quot;:&quot;2022-09-05 23:01:11&quot;,&quot;logger&quot;:&quot;root&quot;,&quot;caller&quot;:&quot;eval&quot;,&quot;msg&quot;:&quot;We lived in Styria&quot;}</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co"># $data always returns a data.frame if available. It is an active binding </span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># rather than a method, so no extra arguments are possible</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span>appenders<span class="sc">$</span>json<span class="sc">$</span>data  </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   level           timestamp logger caller                msg</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   400 2022-09-05 23:01:11   root   eval We lived in Styria</span></span></code></pre></div>
<p>Please note that under the hood, <code>AppenderJson</code> is just an
<code>AppenderFile</code> with <code>LayoutJson</code>. The only
difference is AppenderJson provides a <code>$data()</code> method while
AppenderFile does not.</p>
</div>
<div id="structured-logging-custom-fields" class="section level3" number="1.1.4">
<h3><span class="header-section-number">1.1.4</span> Structured Logging
(custom fields)</h3>
<p>lgr treats a <em>LogEvent</em> as a unit of data, not just a message
with a timestamp. A log event can contain arbitrary data, though not all
Appenders can handle that well. The JSON appender we added above is
particularly good at handling most R objects.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The default console appender displays custom fields as pseudo-json after the message</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;Styria has&quot;</span>, <span class="at">poultry =</span> <span class="fu">c</span>(<span class="st">&quot;capons&quot;</span>, <span class="st">&quot;turkeys&quot;</span>))</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; INFO  [23:01:11.255] Styria has {poultry: (capons, turkeys)}</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># JSON can store most R objects quite naturally </span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="fu">read_json_lines</span>(tf)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   level           timestamp logger caller                msg         poultry</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   400 2022-09-05 23:01:11   root   eval We lived in Styria            NULL</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   400 2022-09-05 23:01:11   root   eval         Styria has capons, turkeys</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="fu">read_json_lines</span>(tf)<span class="sc">$</span>poultry[[<span class="dv">2</span>]]  <span class="co"># works because poultry is a list column</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;capons&quot;  &quot;turkeys&quot;</span></span></code></pre></div>
</div>
<div id="what-else" class="section level3" number="1.1.5">
<h3><span class="header-section-number">1.1.5</span> What Else</h3>
<p>If the examples above have piqued your interest, the rest of this
vignette will provide more details on the workings of lgr. Discussing
all Appenders and configuration options is beyond the scope of this
vignette, please refer to the <a href="https://s-fleck.github.io/lgr/reference/index.html">function
reference</a> for that.</p>
</div>
</div>
</div>
<div id="usage" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Usage</h1>
<div id="structure-of-the-logging-system" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Structure of the
logging system</h2>
<p>If you want custom logging configurations, you have to understand the
structure of the logging process.</p>
<ul>
<li>A <strong>Logger</strong> collects information and dispatches it to
its <em>Appenders</em>, and also the <em>Appenders</em> of its
<em>Parent Loggers</em> (also see the section on hierarchical
logging)</li>
<li>An <strong>Appender</strong> writes the log message to destination
(the console, a file, a database, etc…).</li>
<li>A <strong>Layout</strong> is used by an Appender to format
LogEvents. For example, <code>AppenderFile</code> uses
<code>LayoutFormat</code> by default to write human readable log events
to a text file, but can also use <code>LayoutJson</code> produce machine
readable JSON lines logfiles.</li>
<li><strong>LogEvents</strong> are produced by the Logger and dispatched
to Appenders. They contain all the information that is being logged
(think of it as a row in table). LogEvents usually contain the log
level, a timestamp, a message, the name of the calling function, and a
<a href="https://adv-r.hadley.nz/r6.html#r6-semantics%5D">reference</a>
to the Logger that created it. In addition, a LogEvent can contain any
number of custom fields. See <a href="#examples">examples 1 &amp;
2</a></li>
</ul>
<div id="on-r6-classes" class="section level3" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> On R6 classes</h3>
<p>The elements described above are R6 classes. R6 is an object
orientation system for R that is used by many popular packages such as
shiny, dplyr, plumber, roxygen2, and testthat but often behind the
scenes and not as exposed as in lgr.</p>
<p>You recognize R6 classes in this package because they are named
following the <code>UpperCamelCase</code> naming convention. While there
is only one kind of Logger and one kind of LogEvent, there are several
subclasses of Appenders and Layouts.</p>
<p>An introduction to R6 classes is beyond the scope of this document,
but you can find the official documentation <a href="https://r6.r-lib.org/">here</a> and there is also this <a href="https://www.youtube.com/watch?v=3GEFd8rZQgY">talk on Youtube</a>.
In short R6 classes store data (fields) together with functions
(methods) and have to be instantiated with
<code>&lt;classname&gt;$new()</code>. So if you want to create a new
<code>AppenderFile</code>, you do this by calling
<code>AppenderFile$new(file = tempfile())</code>.</p>
<p>Please not that Loggers should never be instantiated directly with
<code>$new()</code> but always with <code>get_logger()</code>.</p>
</div>
</div>
<div id="log-levels" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Log levels</h2>
<p>lgr supports the standard log4j Log Levels outlined bellow. The Log
Level of an event represents its severity. The named log levels are
really just nicknames for integer values, and you can use the
<code>character</code> or <code>integer</code> representations
interchangeably. You can also use arbitrary integer values (greater than
<code>0</code>), but you are encouraged to stick to the ones bellow.</p>
<table>
<colgroup>
<col width="5%" />
<col width="5%" />
<col width="88%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">Level</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="left">off</td>
<td align="left">Tells a Logger or Appender to suspend all logging</td>
</tr>
<tr class="even">
<td align="right">100</td>
<td align="left">fatal</td>
<td align="left">Critical error that leads to program abort. Should
always indicate a <code>stop()</code> or similar</td>
</tr>
<tr class="odd">
<td align="right">200</td>
<td align="left">error</td>
<td align="left">A severe error that does not trigger program abort</td>
</tr>
<tr class="even">
<td align="right">300</td>
<td align="left">warn</td>
<td align="left">A potentially harmful situation, like
<code>warning()</code></td>
</tr>
<tr class="odd">
<td align="right">400</td>
<td align="left">info</td>
<td align="left">An informational message on the progress of the
application</td>
</tr>
<tr class="even">
<td align="right">500</td>
<td align="left">debug</td>
<td align="left">Finer grained informational messages that are mostly
useful for debugging</td>
</tr>
<tr class="odd">
<td align="right">600</td>
<td align="left">trace</td>
<td align="left">An even finer grained message than debug (<a href="https://softwareengineering.stackexchange.com/questions/279690/why-does-the-trace-level-exist-and-when-should-i-use-it-rather-than-debug">more
info</a>)</td>
</tr>
<tr class="even">
<td align="right">NA</td>
<td align="left">all</td>
<td align="left">Tells a Logger or Appender to process all log
events</td>
</tr>
</tbody>
</table>
<p><code>off</code> and <code>all</code> are valid thresholds for
Appenders and Loggers, but not valid levels for LogEvents;
e.g. <code>lgr$set_threshold(NA)</code> makes sense, but
<code>lgr$log(&quot;all&quot;, &quot;an example message&quot;)</code> does not.</p>
<p>The list of named log levels is stored as a global option
(<code>getOption(&quot;lgr.log_levels&quot;)</code>) and you can use
<code>add_log_levels()</code> and <code>remove_log_levels()</code> to
define your own named levels if you want to. There are only predefined
logging methods (<code>lgr$fatal()</code>, etc..) for the standard log
levels and you have to use <code>lgr$log(level, message)</code> to
create a LogEvent with a custom log level.</p>
</div>
<div id="logging-with-the-root-logger" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Logging with the Root
Logger</h2>
<p>lgr comes with a pre-configured root Logger. It is called
<em>root</em> because you can <a href="#hierarchy">set up a tree of
Loggers</a> that descent from it, but for basic use you will not have to
worry about that.</p>
<div id="logging-syntax" class="section level3" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Logging syntax</h3>
<p>lgr Loggers are R6 objects with <em>methods</em> (functions) for
logging. You can refer to the <em>root</em> logger with
<code>lgr</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">fatal</span>(<span class="st">&quot;This is an important message about %s going wrong&quot;</span>, <span class="st">&quot;-&gt;something&lt;-&quot;</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; FATAL [23:01:11.297] This is an important message about -&gt;something&lt;- going wrong</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">trace</span>(<span class="st">&quot;Trace messages are still hidden&quot;</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">set_threshold</span>(<span class="st">&quot;trace&quot;</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">trace</span>(<span class="st">&quot;Unless we lower the threshold&quot;</span>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; TRACE [23:01:11.299] Unless we lower the threshold</span></span></code></pre></div>
</div>
<div id="formatting-strings" class="section level3" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> Formatting
strings</h3>
<p>You can use <code>sprintf()</code> style formatting strings directly
in log messages.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;The sky was the color of %s, tuned to a dead chanel&quot;</span>, <span class="st">&quot;television&quot;</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; INFO  [23:01:11.306] The sky was the color of television, tuned to a dead chanel</span></span></code></pre></div>
</div>
</div>
<div id="logevents-the-atomic-unit-of-logging" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> LogEvents: The atomic
unit of logging</h2>
<p>LogEvents are objects that store all information collected by the
Logger. They are passed on to Appenders that output them, but Appenders
usually don’t utilize all the information present in a log event. The
last event produced by a Logger is stored in its <code>last_event</code>
field.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;Vampire stories are generally located in Styria&quot;</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; INFO  [23:01:11.312] Vampire stories are generally located in Styria</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span>last_event  <span class="co"># a summary output of the event</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; INFO  [2022-09-05 23:01:11] Vampire stories are generally located in Styria</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span>last_event<span class="sc">$</span>values  <span class="co"># all values stored in the event as a list</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $level</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 400</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $timestamp</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;2022-09-05 23:01:11 CEST&quot;</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $logger</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;root&quot;</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $caller</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;eval&quot;</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $msg</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Vampire stories are generally located in Styria&quot;</span></span></code></pre></div>
<p>LogEvents can contain not only these standard values, but an
arbitrary number of extra values. These extra values are passed as named
arguments to the logging function (as opposed as to parameters to
<code>sprintf()</code>, which are passed as unnamed arguments). It is up
to the Appender whether to process them further or not.</p>
<p>You should consider making use of structured logging liberally and
using output formats that support them (such as JSON), rather than
producing elaborately formatted but hard to parse log messages.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># bad</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;Processing track &#39;%s&#39; with %s waypoints&quot;</span>, <span class="st">&quot;track.gpx&quot;</span>, <span class="dv">32</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; INFO  [23:01:11.323] Processing track &#39;track.gpx&#39; with 32 waypoints</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Good</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>tf <span class="ot">&lt;-</span> <span class="fu">tempfile</span>()</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">add_appender</span>(AppenderJson<span class="sc">$</span><span class="fu">new</span>(tf), <span class="st">&quot;json&quot;</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;Processing track&quot;</span>, <span class="at">file =</span> <span class="st">&quot;track.gpx&quot;</span>, <span class="at">waypoints =</span> <span class="dv">32</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; INFO  [23:01:11.326] Processing track {file: `track.gpx`, waypoints: `32`}</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span>appenders<span class="sc">$</span>json<span class="sc">$</span>data</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   level           timestamp logger caller              msg      file waypoints</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   400 2022-09-05 23:01:11   root   eval Processing track track.gpx        32</span></span></code></pre></div>
</div>
<div id="thresholds" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> Thresholds &amp;
Filters: controlling output detail</h2>
<p>To control the level of detail of the log output, you can set
<strong>thresholds</strong> for Loggers and Appenders. A Logger with a
threshold of <code>warn</code> will only create LogEvents of the
priorities <code>warn</code>, <code>error</code> and <code>fatal</code>
and dispatch them to its Appenders.</p>
<blockquote>
<p>A <strong>threshold</strong> of a Logger or Appender is the minimum
<strong>log level</strong> a LogEvent must have so that that
Logger/Appender processes it.</p>
</blockquote>
<p>If you require more complex logic to decide whether a LogEvent should
be created/processed you can also assign <strong>filters</strong> to
Loggers/Appenders. Filters are just functions that have exactly one
argument, <code>event</code> (the LogEvent to be filtered), and return
<code>TRUE</code> or <code>FALSE</code>. They will be applied after the
threshold is checked. Alternatively there is also a formal R6 class for
Filters (?EventFilter) that you can use, but this is usually not
necessary.</p>
<p>examples:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>f1 <span class="ot">&lt;-</span> <span class="cf">function</span>(event) { <span class="fu">grepl</span>(<span class="st">&quot;bird&quot;</span>, event<span class="sc">$</span>msg) }</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">set_filters</span>(<span class="fu">list</span>(f1))</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;is it a plane?&quot;</span>)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;no! is it a bird?&quot;</span>)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; INFO  [23:01:11.349] no! is it a bird?</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co"># since this is not a very useful filter, we better remove it again</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">set_filters</span>(<span class="cn">NULL</span>)</span></code></pre></div>
</div>
<div id="appenders-managing-log-destinations" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> Appenders: Managing
log destinations</h2>
<p>The root logger only logs to the console by default. If you want to
redirect the output to a file you can just add a file appender to
lgr.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>tf <span class="ot">&lt;-</span> <span class="fu">tempfile</span>()</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a new appender to a logger. We don&#39;t have to supply a name, but that</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># makes it easier to remove later.</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">add_appender</span>(AppenderFile<span class="sc">$</span><span class="fu">new</span>(<span class="at">file =</span> tf), <span class="at">name =</span> <span class="st">&quot;file&quot;</span>)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co"># configure lgr so that it logs everything to the file, but only info and above</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co"># to the console</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">set_threshold</span>(<span class="cn">NA</span>)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span>appenders<span class="sc">$</span>console<span class="sc">$</span><span class="fu">set_threshold</span>(<span class="st">&quot;info&quot;</span>)</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span>appenders<span class="sc">$</span>file<span class="sc">$</span><span class="fu">set_threshold</span>(<span class="cn">NA</span>)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;Another informational message&quot;</span>)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; INFO  [23:01:11.366] Another informational message</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">debug</span>(<span class="st">&quot;A debug message not shown by the console appender&quot;</span>)</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="fu">readLines</span>(tf)</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;INFO  [2022-09-05 23:01:11.366] Another informational message&quot;                    </span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2] &quot;DEBUG [2022-09-05 23:01:11.368] A debug message not shown by the console appender&quot;</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the appender again</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>lgr<span class="sc">$</span><span class="fu">remove_appender</span>(<span class="st">&quot;file&quot;</span>)</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a><span class="fu">unlink</span>(tf)</span></code></pre></div>
</div>
<div id="hierarchy" class="section level2" number="2.7">
<h2><span class="header-section-number">2.7</span> Inheritance:
Hierarchical Loggers</h2>
<p>Logger hierarchies are a powerful concept to organize logging for
different parts of a larger system. This is mainly relevant for package
developers. It is good practice to have a separate Logger for each
package. Since it is not common in R to build complex systems of
hierarchically organised packages, hierarchies will usually be pretty
flat (i.e. most Loggers will only inherit from the root logger).</p>
<p>Each newly created Logger is child to a parent Logger, derived from
its name. So <code>lg &lt;- get_logger(&quot;foo/bar&quot;)</code> creates the
logger with the qualified name <code>foo/bar</code> whose parent is the
logger <code>foo</code> whose parent is (implicitly) the
<code>root</code> logger. If the logger <code>foo</code> does not exist
in that scenario, it is created automatically. This behaviour might
sound strange at first, but it mimics tried and tested behaviour of
python logging. This way logging is decoupled from the business logic
and your program will not abort if you forgot to initialize some logger
up the hierarchy for whatever reason.</p>
<p>A logger dispatches the LogEvents it creates not only to its own
Appenders, but also to the Appenders of all its ancestral Loggers
(ignoring the threshold and Filters of the ancestral Loggers, but not of
the Appenders). When you define Loggers for your package, you should
<em>not</em> configure them (with custom Appenders or thresholds); that
should be left to the user of the package.</p>
<p>If all this sounds confusing to you, take a look at the <a href="#examples-hierarchy">examples</a> and <code>?logger_tree</code>.
The common use cases are pretty easy to understand and illustrate the
<em>how</em> and <em>why</em> pretty well.</p>
<p>Example hierarchy for the package <strong>fancymodel</strong> that
provides a model along with a plumber API and a shiny web-interface to
the package.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># prints a tree structure of all registered loggers</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">logger_tree</span>()</span></code></pre></div>
<pre><code>root [info] -&gt; 1 appenders
└─fancymodel
  ├─plumber
  └─#shiny
    ├─server [trace] -&gt; 2 appenders
    └─ui -&gt; 1 appenders</code></pre>
<div id="log-flow" class="section level3" number="2.7.1">
<h3><span class="header-section-number">2.7.1</span> Log flow</h3>
<p>The graph bellow outlines the flow of LogEvents through the logging
system. This is an important reference if you want to work with Filters
and Logger hierarchies.</p>
<p><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgd2lkdGg9Ijc3MXB4IiBoZWlnaHQ9Ijk4MnB4IiB2aWV3Qm94PSItMC41IC0wLjUgNzcxIDk4MiIgY29udGVudD0iJmx0O214ZmlsZSB1c2VyQWdlbnQ9JnF1b3Q7TW96aWxsYS81LjAgKFgxMTsgTGludXggeDg2XzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBVYnVudHUgQ2hyb21pdW0vNzAuMC4zNTM4Ljc3IENocm9tZS83MC4wLjM1MzguNzcgU2FmYXJpLzUzNy4zNiZxdW90OyB2ZXJzaW9uPSZxdW90OzkuNC40JnF1b3Q7IGVkaXRvcj0mcXVvdDt3d3cuZHJhdy5pbyZxdW90OyB0eXBlPSZxdW90O2dpdGh1YiZxdW90OyZndDsmbHQ7ZGlhZ3JhbSBpZD0mcXVvdDswMjczYmQ3Zi0xYWVjLTdmODItYTExOC1mMjk5YjU5YzE5MmMmcXVvdDsgbmFtZT0mcXVvdDtQYWdlLTEmcXVvdDsmZ3Q7N1Z4YmM5bzRGUDQxekhRZndsaVdmSHRNMHJUNzBPNTBOcnV6N2FNQkFaNGE1SlZOTHZ2clY3SWxzQzZBTVlLNDArWWhNVWUySkgvbmZuVElDTjZ2WGo3U3RGaCtKak9jajN4djlqS0M3MGMrK3drZys4TXBydzBsRHNLR3NLRFpyQ0dCSGVFeCt3OExvaWVvbTJ5R1MrWEdpcEM4eWdxVk9DWHJOWjVXQ2kybGxEeXJ0ODFKcnE1YXBBdHNFQjZuYVc1Uy84bG0xVks4aFIvdDZML2piTEdVSzRNd2FVWW02ZlQ3Z3BMTldxdzM4dUc4L21tR1Y2bWNTN3hvdVV4bjVMbEZnZzhqZUU4SnFacXIxY3M5emptMkVyYm11UTk3UnJmN3BuaGRkWGtnaXBzbm50SjhnK1dXNjQxVnJ4S00rblV3ZndDTTROM3pNcXZ3WTVGTytlZ3pZeitqTGF0VkxvWm5hYm5jM2p2UDh2eWU1SVN5ejJ1eVprL2NtUnNVZTM3Q3RNSXZMWkxZOEVkTVZyaWlyK3dXTVhvVFN6RVIwaVhCZk42eENrYUN0bXl4S1ltbGlBanhXR3puM2tIRUxnUktkc1NDNUFkRURFRVZNV1NETExGQWhvRHZBREp3Q21UZWNjaktpcEx2V01QSkFwMENMZi93SmEwcVROYzF4ZmNRcDJhVUdaQ01jRnBKTmh3TUo0aURCSTREQmZQWWp5V2xoVHJ3TGFpRDBIT0F1Z0U2ZnVJdjVIczV1MkIzaGpsYjdtNUMyZFdpcWw4N1RGY2M2WnBlUCtMbFpMSEExSFl2cXBZVWwwdHVXUzJqT25lWFpEWFpsTWM1NndMNlVETVBBSUxPd1BzT2dBK1BTenRlejI2NW0yS2ZwbmxhbHRsVWhZRzlQWDM5eXBXQjdWeDgvQ1owQTc5azFkZldkVTBmZTRrdlBuL0JOR043eGxUY3N4ZFNKdTUwS2pZa0hGdVYwZ1d1RlBuQk04VlZtckMzTUEwc2tFb2F4WGxhWlUrcWc3WEJMRmI0UXJKYVdDVlhnMEJWSjdSbHFweWtlUi94WE52bkdWTnAxaEI0eGx3TkVNWmNOZXUzNzk1SkdpS0xORFQ2TXN1ZUZLa0kvOTF3dDMvSDVMeTZTZk5zd1d6U2JhMnU4Mm8zMnRMV2VwYXlTTmM2YlNJSm41ajZadXNGbStRK3piY3F6N1k4MFI5aE5OdE1qRnh2VTZVV0ZEdmVlV05ueHRsNlRxeUc2ZEFlTGZOZ3BsejArS3ZWNzNIcFZ4dVB4eWZ1UkRNV2ZPbCsvay9zOS8yVXFUNjNCM2ZjaW1Zc3pMMFZBNnRzTnVQTFdNMnk2cEpkV09ZZ1VCVVArb1padGdVaHdITmdsYzJ3N1o3aXRNS211REdsZVdnODVYRy9ka3JVY2duZkJrRm4zK1lpcHBDcnQxQXNtUHRpcVpxQmxZd2NFSk5MSm56dmZ0dXYxME1OSE5DVkF3ZGd4c2tjM1RyNU5iRzZMUW9XUm1ES3g4bmNISjl1S0JYeDN0NGc3czNGMllzVXhNTXJpN052QUg0ZzRDMG9ZWW0vMVdUd1ordDQrYTgvLzM0WXVsaEhlOFFhWGtxc29VdXhGbGhJcVg1WFdnM0xtd3UyaG5seVpjRkdCdVNQRlNrTzROS2hVT0VDbHlqUlF1K29NeTdJQlM0dWNqT1pmeldwbWNqQWptVnRlOEZyWjJFaVJtbG5ZVktPaHBLR2JTdEgwa2VhdVZQblBHeGJwSlBCVEhEQlBBeVlpZGczSHJjTWgvdUJ5ZjFrWU16WEF5UndCdk5EamZuaEJabHZLWWE5TmVlSHdsT1drNDFCRUlDSWNSTkdDVlNZd3VoamlGRHNSMEVjK2pKWU83M2djbWdOSHZQdFg4TmhJY2JNWFd3R3dNeTJLUzZ6LzlKSmZRTm5hY0UzVTI4dnVCc0Y3MC9Lcy9OMGd2Tzc3U0dSek5kM3gwUTJpZGxLcis1bnR3ZGdZbmVqOWlHUzFmOTZZNWlnV0hYQjU4bVJ2SVhNNXlVK1cwOXQxYkpmZWxyckVJckg0VDRkaWgzcDZhRTFraXZwcWQvaFNQSW5sZ0ZWZWNQb2pESzRNVnNyTTNUUFYyaW1nZHNUcC9XazVILytJRHFsUCtkSDdkT1JvTTE1b1BDOUh0dkwrU1B4bWN5emhpSWdrYWNHVlg0VTloYVBVQ3ZXTW1HN29IRFlFck8zRUE3TkxCek1lOXZDSVV0SnZhUmo1NTFqRHdra3JpUXhzWmJQQWVEM3R5aVJKakpSMHRXZU1MYWxyNjNiUkl4MVFOS2h2cFRTNk1JdW1pa3ZHYTFBV3l2SU9VSXJqbTJzQjhFbkdLM0JXQ085NnlUUjV1aHVpN3hrZjJCaVRPdk9MQ0d6anRiYjZJQURScWVuUjVJSEJzcXhmVFFzSVVDeFZ1SVArN3NrQlBYamdndTZKR1RXREQ1a2pPa0cvL004SzBxdXQrVXlMWEF0Qm1RenUwNDkxZmVNTnFNd05oeUlyUmtPUmZ0WjJiV2Npa3l2ZlUvV0pSa2FTZ0RwS0NXV0JyallwZ1V1VURLVFdsSXQrU0hUb0RBeUd0WVNZRmJtYlpZQ3VzRElZZEozeU5EMmplN2dEMkJvb2NZK3M1cmV2VGdMNFRpS1BPWlpZdy82a1diQ0k3UHM2eXFzZzFySWtDQmZFNk5XV05mRHFBZW14ZnFNVjBRSTYzQ1VFWFl4NjVjeVdNSCtuclU1cWRsbDlrZnhnWnV5YnVUbjdWSEFMMTdNOXFnZURhaHAwUndIZDJ0QlpXL1c3SENZRFNiUXNMRkJmTjJ6K01DMHMvc2FlQTRpZjZpcDV5MFJOcjNZUG9RdjF2M2I3WmpoTGM4Wlk5T1pSZjZ3bkZsczJMKzR2emNEWnBCc0ZqbmNKUTZocmRENXRrbmpVTmpLTXBFeENud1llMG56TzFUWUVpSXdsaVA4ZDk5eUFiY0NzRDFSY01veURpWGhlRld6dGcxSEtrUURQSkxjeXJpTEkwbVFJSVUvTi81NTB1YTB5QmVhd2RBd1dxbE1WNGU2dXpvWHpWU2hHVXZ3Y3FjelJ6ZDRhMlpHNmNFNVhzcWM3YUpleW5YeHVuY1ljNElmYTRjczRjRHlid2g5aDlKZ21hMnpOUFRJdW8zRnRtMTlyakp2R1dHMjVHMlhZYURta3VjVHd6T3JVWGhWc3hyOTZsVTdaQ0todC9zQmF2dENmRVl2NnJHcEw5bWRHSmxoNGlmeE5RUjdKTmoxKzE4dGllQmxFZkYvRm53a1A0dUp3YUh3MEFna2xTOVZ1OUE0dlNkY2xQd1VaZk11cFd4bWRDZS9nUEJ6Z0E4alQ0OGlrZFhjT2VJQSs3ajc3eGFOcnV6K2hRaDgrQjg9Jmx0Oy9kaWFncmFtJmd0OyZsdDsvbXhmaWxlJmd0OyIgcmVzb3VyY2U9Imh0dHBzOi8vd3d3LmRyYXcuaW8vI0hzLWZsZWNrJTJGeW9nJTJGbWFzdGVyJTJGdmlnbmV0dGVzJTJGbG9nX2Zsb3cuc3ZnIiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpOyI+PGRlZnMvPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIzNzAiIGhlaWdodD0iOTgxIiByeD0iNTUuNSIgcnk9IjU1LjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWRhc2hhcnJheT0iMyAzIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxyZWN0IHg9IjM4MCIgeT0iNDAwIiB3aWR0aD0iMzkwIiBoZWlnaHQ9IjQxMiIgcng9IjU4LjUiIHJ5PSI1OC41IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1kYXNoYXJyYXk9IjMgMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDI2MCAxMTEuNSBMIDMyMCAxNzEuNSBMIDI2MCAyMzEuNSBMIDIwMCAxNzEuNSBaIiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMzAuNSwxNTEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iNTgiIGhlaWdodD0iNDAiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogNThweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+ZXZlbnQgbGV2ZWw8YnIgLz4mbHQ7PSBsb2dnZXI8YnIgLz4kdGhyZXNob2xkPGJyIC8+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjI5IiB5PSIyNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5bTm90IHN1cHBvcnRlZCBieSB2aWV3ZXJdPC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDI2MCAyMSBMIDI2MCAxMDUuNjMiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjYwIDExMC44OCBMIDI1Ni41IDEwMy44OCBMIDI2MCAxMDUuNjMgTCAyNjMuNSAxMDMuODggWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYxLjUsMTYuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iODYiIGhlaWdodD0iOTAiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogODhweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+PGRpdiBzdHlsZT0idGV4dC1hbGlnbjogbGVmdCI+PHNwYW4+PGI+TG9nZ2luZyBDYWxsPC9iPjwvc3Bhbj48L2Rpdj48cHJlIHN0eWxlPSJ0ZXh0LWFsaWduOiBsZWZ0Ij48c3Bhbj5sb2dnZXIuaW5mbzxiciAvPjwvc3Bhbj48c3Bhbj5sb2dnZXIuZXJyb3I8L3NwYW4+PC9wcmU+PHByZSBzdHlsZT0idGV4dC1hbGlnbjogbGVmdCI+PHNwYW4+Li4uPC9zcGFuPjwvcHJlPjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI0MyIgeT0iNTEiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+W05vdCBzdXBwb3J0ZWQgYnkgdmlld2VyXTwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMjAwIiB5PSIyOTEuNSIgd2lkdGg9IjEyMCIgaGVpZ2h0PSI2MCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIzNC41LDMwOC41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI1MCIgaGVpZ2h0PSIyNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA1MnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5DcmVhdGU8YnIgLz5Mb2dFdmVudDxiciAvPjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIyNSIgeT0iMTkiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+W05vdCBzdXBwb3J0ZWQgYnkgdmlld2VyXTwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAyNjAgNDExLjUgTCAzMjAgNDcxLjUgTCAyNjAgNTMxLjUgTCAyMDAgNDcxLjUgWiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjI0LjUsNDUxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjcwIiBoZWlnaHQ9IjQwIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDcycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPnBhc3NlczxiciAvPmxvZ2dlciRmaWx0ZXIoKTxiciAvPjxiciAvPjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIzNSIgeT0iMjYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+W05vdCBzdXBwb3J0ZWQgYnkgdmlld2VyXTwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMjAzIiB5PSI1OTEuNSIgd2lkdGg9IjEyMCIgaGVpZ2h0PSI2MCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyNS41LDYwMS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI3NCIgaGVpZ2h0PSI0MCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA3NnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5wYXNzIHRvPGJyIC8+QXBwZW5kZXJzIG9mPGJyIC8+Y3VycmVudCBsb2dnZXI8YnIgLz48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMzciIHk9IjI2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPltOb3Qgc3VwcG9ydGVkIGJ5IHZpZXdlcl08L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gMjYxLjUgNzExLjUgTCAzMjMgNzcxLjUgTCAyNjEuNSA4MzEuNSBMIDIwMCA3NzEuNSBaIiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMzAuNSw3NTEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iNjEiIGhlaWdodD0iNDAiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogNjFweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+bG9nZ2VyPGJyIC8+JHByb3BhZ2F0ZTxiciAvPj09IFRSVUU8YnIgLz48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMzEiIHk9IjI2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPltOb3Qgc3VwcG9ydGVkIGJ5IHZpZXdlcl08L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjIwMCIgeT0iODkxLjUiIHdpZHRoPSIxMjAiIGhlaWdodD0iNjAiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTcuNSw5MDEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iODQiIGhlaWdodD0iNDAiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogODZweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+cGFzcyB0bzxiciAvPkFwcGVuZGVycyBvZjxiciAvPnBhcmVudCBsb2dnZXIocyk8YnIgLz48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNDIiIHk9IjI2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPltOb3Qgc3VwcG9ydGVkIGJ5IHZpZXdlcl08L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjIwIiB5PSIxNTEuNSIgd2lkdGg9IjEyMCIgaGVpZ2h0PSI0MCIgcng9IjYiIHJ5PSI2IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjcuNSwxNjUuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMjQiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMjZweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+U3RvcDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxMiIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+U3RvcDwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAyNjAgMzUyIEwgMjYwIDQwNS42MyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAyNjAgNDEwLjg4IEwgMjU2LjUgNDAzLjg4IEwgMjYwIDQwNS42MyBMIDI2My41IDQwMy44OCBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDI2MCAyMzIgTCAyNjAgMjg1LjYzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDI2MCAyOTAuODggTCAyNTYuNSAyODMuODggTCAyNjAgMjg1LjYzIEwgMjYzLjUgMjgzLjg4IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1MC41LDI1Ni41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxOCIgaGVpZ2h0PSIxMSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDExcHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdoaXRlLXNwYWNlOiBub3dyYXA7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7YmFja2dyb3VuZC1jb2xvcjojZmZmZmZmOyI+WWVzPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjkiIHk9IjExIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjExcHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPlllczwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAyNTkuODQgNTMxLjM0IEwgMjU5Ljg0IDU4NC45OCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAyNTkuODQgNTkwLjIzIEwgMjU2LjM0IDU4My4yMyBMIDI1OS44NCA1ODQuOTggTCAyNjMuMzQgNTgzLjIzIFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1MC41LDU0My41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIyMCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdoaXRlLXNwYWNlOiBub3dyYXA7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7YmFja2dyb3VuZC1jb2xvcjojZmZmZmZmOyI+WWVzPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjEwIiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5ZZXM8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gMjYxLjM0IDgzMS4zNCBMIDI2MS4zNCA4ODQuOTgiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjYxLjM0IDg5MC4yMyBMIDI1Ny44NCA4ODMuMjMgTCAyNjEuMzQgODg0Ljk4IEwgMjY0Ljg0IDg4My4yMyBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDI2MS4yIDY1MS41IEwgMjYxLjIgNzA1LjEzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDI2MS4yIDcxMC4zOCBMIDI1Ny43IDcwMy4zOCBMIDI2MS4yIDcwNS4xMyBMIDI2NC43IDcwMy4zOCBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDIwMCAxNzIgTCAxNDYuMzcgMTcyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDE0MS4xMiAxNzIgTCAxNDguMTIgMTY4LjUgTCAxNDYuMzcgMTcyIEwgMTQ4LjEyIDE3NS41IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1OS41LDE2Ni41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIyMCIgaGVpZ2h0PSIxMSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDExcHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdoaXRlLXNwYWNlOiBub3dyYXA7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7YmFja2dyb3VuZC1jb2xvcjojZmZmZmZmOyI+wqBOb8KgPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjEwIiB5PSIxMSIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5bTm90IHN1cHBvcnRlZCBieSB2aWV3ZXJdPC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDIwMCA3NzIgTCA5MCA3NzAuMTcgUSA4MCA3NzAgODAgNzYwIEwgODAgMTk4LjM3IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDgwIDE5My4xMiBMIDgzLjUgMjAwLjEyIEwgODAgMTk4LjM3IEwgNzYuNSAyMDAuMTIgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTIxLjUsNzY0LjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjExIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTFweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmY7Ij7CoE5vwqA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTAiIHk9IjExIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjExcHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPltOb3Qgc3VwcG9ydGVkIGJ5IHZpZXdlcl08L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gODAgNDcxIEwgMjAwLjM0IDQ3MSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTI5LjUsNDY1LjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjExIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTFweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmY7Ij7CoE5vwqA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTAiIHk9IjExIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjExcHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPltOb3Qgc3VwcG9ydGVkIGJ5IHZpZXdlcl08L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gMzIzIDYyMiBMIDQxMC42MyA2MjIiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNDE1Ljg4IDYyMiBMIDQwOC44OCA2MjUuNSBMIDQxMC42MyA2MjIgTCA0MDguODggNjE4LjUgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA2MjQgODU5Ljc1IEMgNjEwIDg1OS43NSA2MDYuNSA4NzEuNSA2MTcuNyA4NzMuODUgQyA2MDYuNSA4NzkuMDIgNjE5LjEgODkwLjMgNjI4LjIgODg1LjYgQyA2MzQuNSA4OTUgNjU1LjUgODk1IDY2Mi41IDg4NS42IEMgNjc2LjUgODg1LjYgNjc2LjUgODc2LjIgNjY3Ljc1IDg3MS41IEMgNjc2LjUgODYyLjEgNjYyLjUgODUyLjcgNjUwLjI1IDg1Ny40IEMgNjQxLjUgODUwLjM1IDYyNy41IDg1MC4zNSA2MjQgODU5Ljc1IFoiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYzMS41LDg2NS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIyMCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAyMHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5GaWxlPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjEwIiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5GaWxlPC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDY4Ni41IDkxNC4yNSBDIDY3MC41IDkxNC4yNSA2NjYuNSA5MjguNSA2NzkuMyA5MzEuMzUgQyA2NjYuNSA5MzcuNjIgNjgwLjkgOTUxLjMgNjkxLjMgOTQ1LjYgQyA2OTguNSA5NTcgNzIyLjUgOTU3IDczMC41IDk0NS42IEMgNzQ2LjUgOTQ1LjYgNzQ2LjUgOTM0LjIgNzM2LjUgOTI4LjUgQyA3NDYuNSA5MTcuMSA3MzAuNSA5MDUuNyA3MTYuNSA5MTEuNCBDIDcwNi41IDkwMi44NSA2OTAuNSA5MDIuODUgNjg2LjUgOTE0LjI1IFoiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY4NC41LDkyMi41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI0NCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA0NnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5Db25zb2xlPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjIyIiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5Db25zb2xlPC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDYyOSA5MDQuMjUgQyA2MTkgOTA0LjI1IDYxNi41IDkxMy41IDYyNC41IDkxNS4zNSBDIDYxNi41IDkxOS40MiA2MjUuNSA5MjguMyA2MzIgOTI0LjYgQyA2MzYuNSA5MzIgNjUxLjUgOTMyIDY1Ni41IDkyNC42IEMgNjY2LjUgOTI0LjYgNjY2LjUgOTE3LjIgNjYwLjI1IDkxMy41IEMgNjY2LjUgOTA2LjEgNjU2LjUgODk4LjcgNjQ3Ljc1IDkwMi40IEMgNjQxLjUgODk2Ljg1IDYzMS41IDg5Ni44NSA2MjkgOTA0LjI1IFoiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyNy41LDkwNy41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIyOCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAyOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5vdGhlcjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNCIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+b3RoZXI8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gMzIwIDkyMiBMIDQ3MCA5MjIgUSA0ODAgOTIyIDQ3OS45MiA5MTIgTCA0NzguMDUgNjg4LjM3IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQ3OC4wMSA2ODMuMTIgTCA0ODEuNTcgNjkwLjA5IEwgNDc4LjA1IDY4OC4zNyBMIDQ3NC41NyA2OTAuMTUgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA2OTYuNSA4NjIuMjUgQyA2ODAuNSA4NjIuMjUgNjc2LjUgODc2LjUgNjg5LjMgODc5LjM1IEMgNjc2LjUgODg1LjYyIDY5MC45IDg5OS4zIDcwMS4zIDg5My42IEMgNzA4LjUgOTA1IDczMi41IDkwNSA3NDAuNSA4OTMuNiBDIDc1Ni41IDg5My42IDc1Ni41IDg4Mi4yIDc0Ni41IDg3Ni41IEMgNzU2LjUgODY1LjEgNzQwLjUgODUzLjcgNzI2LjUgODU5LjQgQyA3MTYuNSA4NTAuODUgNzAwLjUgODUwLjg1IDY5Ni41IDg2Mi4yNSBaIiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2OTQuNSw4NzAuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iNDQiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogNDRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+TWVtb3J5PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjIyIiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5NZW1vcnk8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gNDc4IDU2MS41IEwgNTM5LjUgNjIxLjUgTCA0NzggNjgxLjUgTCA0MTYuNSA2MjEuNSBaIiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0NDMuNSw2MDEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iNjkiIGhlaWdodD0iNDAiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogNjlweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+PGZvbnQgc3R5bGU9ImZvbnQtc2l6ZTogMTJweCI+ZXZlbnQgbGV2ZWw8YnIgLz4mbHQ7PSBhcHBlbmRlcjxiciAvPiR0aHJlc2hvbGQ8L2ZvbnQ+PGJyIC8+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjM1IiB5PSIyNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5bTm90IHN1cHBvcnRlZCBieSB2aWV3ZXJdPC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDY3Ni41IDU2MS41IEwgNzM2LjUgNjIxLjUgTCA2NzYuNSA2ODEuNSBMIDYxNi41IDYyMS41IFoiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY1MS41LDYwMS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI1MCIgaGVpZ2h0PSI0MCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA1MnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5wYXNzZXM8YnIgLz5hcHBlbmRlcjxiciAvPiRmaWx0ZXIoKTxiciAvPjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIyNSIgeT0iMjYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+W05vdCBzdXBwb3J0ZWQgYnkgdmlld2VyXTwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSA2NzcgNjgyIEwgNjc3IDczNS42MyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA2NzcgNzQwLjg4IEwgNjczLjUgNzMzLjg4IEwgNjc3IDczNS42MyBMIDY4MC41IDczMy44OCBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NjcuNSw3MDYuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTgiIGhlaWdodD0iMTEiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aGl0ZS1zcGFjZTogbm93cmFwOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O2JhY2tncm91bmQtY29sb3I6I2ZmZmZmZjsiPlllczwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI5IiB5PSIxMSIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5ZZXM8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gNTM5LjU1IDYyMS4xIEwgNjEwLjMyIDYyMS4xIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDYxNS41NyA2MjEuMSBMIDYwOC41NyA2MjQuNiBMIDYxMC4zMiA2MjEuMSBMIDYwOC41NyA2MTcuNiBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NTcuNSw2MTcuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMjYiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aGl0ZS1zcGFjZTogbm93cmFwOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O2JhY2tncm91bmQtY29sb3I6I2ZmZmZmZjsiPsKgWWVzwqA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTMiIHk9IjEyIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPltOb3Qgc3VwcG9ydGVkIGJ5IHZpZXdlcl08L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjYxNi41IiB5PSI0NjEuNSIgd2lkdGg9IjEyMCIgaGVpZ2h0PSI0MCIgcng9IjYiIHJ5PSI2IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjY0LjUsNDc1LjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDI2cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPlN0b3A8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTIiIHk9IjEyIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPlN0b3A8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gNjc2LjUgNTYxLjUgTCA2NzYuNSA1MDcuODciIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNjc2LjUgNTAyLjYyIEwgNjgwIDUwOS42MiBMIDY3Ni41IDUwNy44NyBMIDY3MyA1MDkuNjIgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjY5LjUsNTI1LjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjE0IiBoZWlnaHQ9IjExIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTFweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmY7Ij5ObzwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI3IiB5PSIxMSIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5ObzwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSA0NzcuNSA1NjEuNSBMIDQ3Ny41IDQ5MS41IFEgNDc3LjUgNDgxLjUgNDg3LjUgNDgxLjU0IEwgNjEwLjYzIDQ4MS45OCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA2MTUuODggNDgyIEwgNjA4Ljg3IDQ4NS40NyBMIDYxMC42MyA0ODEuOTggTCA2MDguODkgNDc4LjQ3IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ5Ni41LDQ3NS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIyMCIgaGVpZ2h0PSIxMSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDExcHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdoaXRlLXNwYWNlOiBub3dyYXA7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7YmFja2dyb3VuZC1jb2xvcjojZmZmZmZmOyI+wqBOb8KgPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjEwIiB5PSIxMSIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5bTm90IHN1cHBvcnRlZCBieSB2aWV3ZXJdPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSI2MTYuNSIgeT0iNzQxLjUiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiIHJ4PSI2IiByeT0iNiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyMy41LDc1NS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMDYiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTA2cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPmFwcGVuZGVyJGFwcGVuZCgpPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjUzIiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5hcHBlbmRlciRhcHBlbmQoKTwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSA2NzYuNyA3ODEuNSBMIDY3Ni43IDgzNS4xMyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA2NzYuNyA4NDAuMzggTCA2NzMuMiA4MzMuMzggTCA2NzYuNyA4MzUuMTMgTCA2ODAuMiA4MzMuMzggWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjkuNSwyOC41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI4MSIgaGVpZ2h0PSIyNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDI0cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdoaXRlLXNwYWNlOiBub3dyYXA7IGZvbnQtd2VpZ2h0OiBib2xkOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+TG9nZ2VyPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjQxIiB5PSIyNSIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIyNHB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIiBmb250LXdlaWdodD0iYm9sZCI+TG9nZ2VyPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MzMuNSw0MjguNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTEyIiBoZWlnaHQ9IjI2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMjRweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgZm9udC13ZWlnaHQ6IGJvbGQ7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5BcHBlbmRlcjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1NiIgeT0iMjUiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMjRweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSIgZm9udC13ZWlnaHQ9ImJvbGQiPkFwcGVuZGVyPC90ZXh0Pjwvc3dpdGNoPjwvZz48L3N2Zz4=" /></p>
</div>
</div>
<div id="logging-with-loggerglue" class="section level2" number="2.8">
<h2><span class="header-section-number">2.8</span> Logging with
LoggerGlue</h2>
<p><a href="https://glue.tidyverse.org/">glue</a> is very nicely
designed package for string interpolation. It makes composing log
messages more flexible and comfortable at the price of an additional
dependency and slightly less performance than <code>sprintf()</code>
(which is used by normal Loggers). To take advantage of glue, simply
create a new LoggerGlue like this:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;glue&quot;)</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>lg <span class="ot">&lt;-</span> <span class="fu">get_logger_glue</span>(<span class="st">&quot;glue/logger&quot;</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">info</span>(</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;glue automatically &quot;</span>, </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;pastes together unnamed arguments &quot;</span>,</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;and evaluates arbitray expressions inside braces {Sys.Date()}&quot;</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; INFO  [23:01:11.407] glue automatically pastes together unnamed arguments and evaluates arbitray expressions inside braces 2022-09-05</span></span></code></pre></div>
<p>Glue lets you define temporary variables inside the
<code>glue()</code> call. As with the normal Logger, named arguments get
turned into custom fields.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;For more info on glue see {website}&quot;</span>, <span class="at">website =</span> <span class="st">&quot;https://glue.tidyverse.org/&quot;</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; INFO  [23:01:11.438] For more info on glue see https://glue.tidyverse.org/ {website: `https://glue.tidyverse.org/`}</span></span></code></pre></div>
<p>You can suppress this behaviour by making named argument start with a
<code>&quot;.&quot;</code>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;Glue is available from {.cran}&quot;</span>, <span class="at">.cran =</span> <span class="st">&quot;https://CRAN.R-project.org/package=glue&quot;</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; INFO  [23:01:11.447] Glue is available from https://CRAN.R-project.org/package=glue</span></span></code></pre></div>
</div>
</div>
<div id="configuration" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Configuration</h1>
<div id="with-setters" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> With setters</h2>
<p>There are several different ways to configure loggers. The most
straight forward one is to use <em>setters</em> to specify the Loggers
properties.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>lg <span class="ot">&lt;-</span> <span class="fu">get_logger</span>(<span class="st">&quot;test&quot;</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">config</span>(<span class="cn">NULL</span>)  <span class="co"># resets logger to unconfigured state</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;Logger&gt; [all] test</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; inherited appenders:</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   console: &lt;AppenderConsole&gt; [info] -&gt; console</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">set_threshold</span>(<span class="st">&quot;fatal&quot;</span>)</span></code></pre></div>
<p>lgr sets up Loggers in a way so that R6 piping with <code>$</code> is
possible. This works similar to the magrittr (<code>#%&gt;#</code>)
pipes.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_threshold</span>(<span class="st">&quot;info&quot;</span>)<span class="sc">$</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_appenders</span>(AppenderConsole<span class="sc">$</span><span class="fu">new</span>(<span class="at">threshold =</span> <span class="st">&quot;info&quot;</span>))<span class="sc">$</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_propagate</span>(<span class="cn">FALSE</span>)</span></code></pre></div>
</div>
<div id="with-a-list-object" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> With a list
object</h2>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">config</span>(<span class="fu">list</span>(</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">threshold =</span> <span class="st">&quot;info&quot;</span>,</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">propagate =</span> <span class="cn">FALSE</span>,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">appenders =</span> AppenderConsole<span class="sc">$</span><span class="fu">new</span>(<span class="at">threshold =</span> <span class="st">&quot;info&quot;</span>)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;Logger&gt; [info] test</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; appenders:</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [[1]]: &lt;AppenderConsole&gt; [info] -&gt; console</span></span></code></pre></div>
</div>
<div id="with-yaml-or-json" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> With YAML or
JSON</h2>
<p>You can use YAML and JSON config files with lgr.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">config</span>(<span class="st">&quot;path/to/config.yaml&quot;</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">config</span>(<span class="st">&quot;path/to/config.json&quot;</span>)</span></code></pre></div>
<p>You can also pass in YAML/JSON directly as a character string (or
vector with one element per line)</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Via YAML</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>cfg <span class="ot">&lt;-</span> <span class="st">&quot;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="st">  Logger:</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="st">    threshold: info</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="st">    propagate: false</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="st">    appenders:</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="st">      AppenderConsole:</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="st">        threshold: info</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">config</span>(cfg)</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;Logger&gt; [info] test</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; appenders:</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   AppenderConsole: &lt;AppenderConsole&gt; [info] -&gt; console</span></span></code></pre></div>
</div>
</div>
<div id="examples" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Examples</h1>
<div id="logging-to-the-console-1" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Logging to the
console</h2>
<p>lgr comes with simple but powerful formatting syntax for LogEvents.
Please refer to <code>?format.LogEvent</code> for the full list of
available placeholders.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>lg <span class="ot">&lt;-</span> <span class="fu">get_logger</span>(<span class="st">&quot;test&quot;</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">set_appenders</span>(<span class="fu">list</span>(<span class="at">cons =</span> AppenderConsole<span class="sc">$</span><span class="fu">new</span>()))</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">set_propagate</span>(<span class="cn">FALSE</span>)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;the default format&quot;</span>)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; INFO  [23:01:11.515] the default format</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span>appenders<span class="sc">$</span>cons<span class="sc">$</span>layout<span class="sc">$</span><span class="fu">set_fmt</span>(<span class="st">&quot;%L (%n) [%t] %c(): !! %m !!&quot;</span>)</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;A more involved custom format&quot;</span>)</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; INFO  (400) [23:01:11.517] eval(): !! A more involved custom format !!</span></span></code></pre></div>
<p>If this is not enough for you, you can use <code>LayoutGlue</code>
based on the awesome <a href="https://github.com/tidyverse/glue">glue</a> package. The syntax is
a bit more verbose, and <code>AppenderGlue</code> is a bit less
performant than <code>AppenderFormat</code>, but the possibilities are
endless.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;glue&quot;)</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glue)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span>appenders<span class="sc">$</span>cons<span class="sc">$</span><span class="fu">set_layout</span>(LayoutGlue<span class="sc">$</span><span class="fu">new</span>(</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">fmt =</span> <span class="st">&quot;{.logger$name} {level_name} {caller}: {toupper(msg)}&quot;</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;with glue&quot;</span>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; test info eval: WITH GLUE</span></span></code></pre></div>
<p>All fields of the [LogEvent] object are exposed through LayoutGlue,
so please refer to <code>?LogEvent</code> for a list of all available
Fields.</p>
</div>
<div id="logging-to-json-files-1" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Logging to JSON
files</h2>
<p>JavaScript Object Notation (JSON) is an open-standard file format
that uses human-readable text to transmit data objects consisting of
attribute–value pairs and array data types (<a href="https://en.wikipedia.org/wiki/JSON">Wikipedia</a>). JSON is the
<strong>recommended text-based logging format when logging to
files</strong> <a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>, as it is human- as well as machine
readable. You should only log to a different format if you have very
good reasons for it. The easiest way to log to JSON files is with
AppenderJson<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;jsonlite&quot;)</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>tf <span class="ot">&lt;-</span> <span class="fu">tempfile</span>()</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>lg <span class="ot">&lt;-</span> <span class="fu">get_logger</span>(<span class="st">&quot;test&quot;</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">set_appenders</span>(<span class="fu">list</span>(<span class="at">json =</span> AppenderJson<span class="sc">$</span><span class="fu">new</span>(<span class="at">file =</span> tf)))</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">set_propagate</span>(<span class="cn">FALSE</span>)</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;JSON naturally &quot;</span>, <span class="at">field =</span> <span class="st">&quot;custom&quot;</span>)</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;supports custom&quot;</span>, <span class="at">numbers =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;log fields&quot;</span>, <span class="at">use =</span> <span class="st">&quot;JSON&quot;</span>)</span></code></pre></div>
<p>JSON is easy to parse and analyse with R. lgr provides the function
<code>read_json_lines()</code> that can be used to read JSON log files,
but you can also use AppenderJson’s <code>$data</code> binding for an
even more convenient method to read the logfile.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span>appenders<span class="sc">$</span>json<span class="sc">$</span>data</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="co"># same as </span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">read_json_lines</span>(tf)</span></code></pre></div>
<pre><code>#&gt;   level           timestamp logger caller             msg  field numbers  use
#&gt; 1   400 2022-09-05 23:01:11   test   eval JSON naturally  custom    NULL &lt;NA&gt;
#&gt; 2   400 2022-09-05 23:01:11   test   eval supports custom   &lt;NA&gt; 1, 2, 3 &lt;NA&gt;
#&gt; 3   400 2022-09-05 23:01:11   test   eval      log fields   &lt;NA&gt;    NULL JSON</code></pre>
<p>JSON is also human readable, though this vignette does not transport
that fact very well because of the lack of horizontal space.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span>appenders<span class="sc">$</span>json<span class="sc">$</span><span class="fu">show</span>()</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co"># same as</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">readLines</span>(tf), <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>#&gt; {&quot;level&quot;:400,&quot;timestamp&quot;:&quot;2022-09-05 23:01:11&quot;,&quot;logger&quot;:&quot;test&quot;,&quot;caller&quot;:&quot;eval&quot;,&quot;msg&quot;:&quot;JSON naturally &quot;,&quot;field&quot;:&quot;custom&quot;}
#&gt; {&quot;level&quot;:400,&quot;timestamp&quot;:&quot;2022-09-05 23:01:11&quot;,&quot;logger&quot;:&quot;test&quot;,&quot;caller&quot;:&quot;eval&quot;,&quot;msg&quot;:&quot;supports custom&quot;,&quot;numbers&quot;:[1,2,3]}
#&gt; {&quot;level&quot;:400,&quot;timestamp&quot;:&quot;2022-09-05 23:01:11&quot;,&quot;logger&quot;:&quot;test&quot;,&quot;caller&quot;:&quot;eval&quot;,&quot;msg&quot;:&quot;log fields&quot;,&quot;use&quot;:&quot;JSON&quot;}</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># cleanup</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">config</span>(<span class="cn">NULL</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;Logger&gt; [all] test</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; inherited appenders:</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   console: &lt;AppenderConsole&gt; [info] -&gt; console</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="fu">unlink</span>(tf)</span></code></pre></div>
</div>
<div id="logging-to-rotating-files" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Logging to rotating
files</h2>
<p>lgr can also log to rotating files. The following example logs to a
file that is reset and backed-up once it reaches a size of 10kb. Only
the last 5 backups of the logfile are kept.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;rotor&quot;)</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>tf <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">&quot;.log&quot;</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>lg <span class="ot">&lt;-</span> <span class="fu">get_logger</span>(<span class="st">&quot;test&quot;</span>)<span class="sc">$</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_propagate</span>(<span class="cn">FALSE</span>)<span class="sc">$</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_appenders</span>(<span class="fu">list</span>(<span class="at">rotating =</span> AppenderFileRotating<span class="sc">$</span><span class="fu">new</span>(</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">file =</span> tf, </span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="st">&quot;10 kb&quot;</span>,</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_backups =</span> <span class="dv">5</span>))</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>) lg<span class="sc">$</span><span class="fu">info</span>(<span class="fu">paste</span>(LETTERS, <span class="at">sep =</span> <span class="st">&quot;-&quot;</span>))</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a><span class="co"># display info on the backups of tf</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span>appenders<span class="sc">$</span>rotating<span class="sc">$</span>backups</span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                                                                         path</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 C:/Users/STEFAN~1.FLE/AppData/Local/Temp/RtmpcZZbMH/file5720753421b2.1.log</span></span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 C:/Users/STEFAN~1.FLE/AppData/Local/Temp/RtmpcZZbMH/file5720753421b2.2.log</span></span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 C:/Users/STEFAN~1.FLE/AppData/Local/Temp/RtmpcZZbMH/file5720753421b2.3.log</span></span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 C:/Users/STEFAN~1.FLE/AppData/Local/Temp/RtmpcZZbMH/file5720753421b2.4.log</span></span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 C:/Users/STEFAN~1.FLE/AppData/Local/Temp/RtmpcZZbMH/file5720753421b2.5.log</span></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;               name sfx ext  size isdir mode               mtime</span></span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 file5720753421b2   1 log 10920 FALSE  666 2022-09-05 23:01:11</span></span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 file5720753421b2   2 log 10920 FALSE  666 2022-09-05 23:01:11</span></span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 file5720753421b2   3 log 10920 FALSE  666 2022-09-05 23:01:11</span></span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 file5720753421b2   4 log 10920 FALSE  666 2022-09-05 23:01:11</span></span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 file5720753421b2   5 log 10920 FALSE  666 2022-09-05 23:01:11</span></span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                 ctime               atime exe index</span></span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 2022-09-05 23:01:11 2022-09-05 23:01:11  no     1</span></span>
<span id="cb34-30"><a href="#cb34-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 2022-09-05 23:01:11 2022-09-05 23:01:11  no     2</span></span>
<span id="cb34-31"><a href="#cb34-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 2022-09-05 23:01:11 2022-09-05 23:01:11  no     3</span></span>
<span id="cb34-32"><a href="#cb34-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 2022-09-05 23:01:11 2022-09-05 23:01:11  no     4</span></span>
<span id="cb34-33"><a href="#cb34-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 2022-09-05 23:01:11 2022-09-05 23:01:11  no     5</span></span>
<span id="cb34-34"><a href="#cb34-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-35"><a href="#cb34-35" aria-hidden="true" tabindex="-1"></a><span class="co"># manually delete all backups</span></span>
<span id="cb34-36"><a href="#cb34-36" aria-hidden="true" tabindex="-1"></a><span class="fu">invisible</span>(lg<span class="sc">$</span>appenders<span class="sc">$</span>rotating<span class="sc">$</span><span class="fu">prune</span>(<span class="dv">0</span>))</span>
<span id="cb34-37"><a href="#cb34-37" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span>appenders<span class="sc">$</span>rotating<span class="sc">$</span>backups</span>
<span id="cb34-38"><a href="#cb34-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] path   name   sfx    ext    size   isdir  mode   mtime  ctime  atime </span></span>
<span id="cb34-39"><a href="#cb34-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11] uid    gid    uname  grname index </span></span>
<span id="cb34-40"><a href="#cb34-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;0 Zeilen&gt; (oder row.names mit Länge 0)</span></span>
<span id="cb34-41"><a href="#cb34-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-42"><a href="#cb34-42" aria-hidden="true" tabindex="-1"></a><span class="co">#cleanup</span></span>
<span id="cb34-43"><a href="#cb34-43" aria-hidden="true" tabindex="-1"></a><span class="fu">unlink</span>(tf)</span></code></pre></div>
</div>
<div id="examples-hierarchy" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Logger
hierarchies</h2>
<p>The most common use cases for creating a new Logger rather than just
using the root Logger is if you create a Package that should contain
logging. This way you can have separate Appenders (e.g logfiles) and
thresholds for each package.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The logger name should be the same as the package name</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>tf <span class="ot">&lt;-</span> <span class="fu">tempfile</span>()</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>lg <span class="ot">&lt;-</span> <span class="fu">get_logger</span>(<span class="st">&quot;mypackage&quot;</span>)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">add_appender</span>(AppenderFile<span class="sc">$</span><span class="fu">new</span>(tf))  </span></code></pre></div>
<p>The <code>print()</code> method for Loggers gives a nice overview of
the newly created Logger:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(lg)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;Logger&gt; [all] mypackage</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; appenders:</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [[1]]: &lt;AppenderFile&gt; [all] -&gt; C:\Users\STEFAN~1.FLE\AppData\Local\Temp\RtmpcZZbMH\file5720360f1454</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; inherited appenders:</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   console: &lt;AppenderConsole&gt; [info] -&gt; console</span></span></code></pre></div>
<p>This tells us that <code>lg</code> logs all events of at least level
<code>info</code>. It does have a single (unnamed) Appender that logs to
a temporary file, and dispatches all LogEvents it creates to the
Appenders of the root Logger (ignoring the threshold and filters of the
root Logger, but not of its Appenders).</p>
<p>We can use <code>lg$fatal()</code>, <code>lg$info()</code>, etc.. to
log messages with this Logger:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;A test message for lg&quot;</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; INFO  [23:01:12.034] A test message for lg</span></span></code></pre></div>
<p>If we do not want <code>lg</code> to dispatch to the root Logger, we
can set <code>propagate</code> to <code>FALSE</code>.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">set_propagate</span>(<span class="cn">FALSE</span>)</span></code></pre></div>
<p>When we take a look at the Logger again, we now see that it does not
inherit any Appenders anymore</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(lg)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;Logger&gt; [all] mypackage</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; appenders:</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [[1]]: &lt;AppenderFile&gt; [all] -&gt; C:\Users\STEFAN~1.FLE\AppData\Local\Temp\RtmpcZZbMH\file5720360f1454</span></span></code></pre></div>
<p>Consequently, <code>lg</code> no longer outputs log messages to he
console</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;Nothing to see here&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># cleanup</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">config</span>(<span class="cn">NULL</span>)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;Logger&gt; [all] mypackage</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; inherited appenders:</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   console: &lt;AppenderConsole&gt; [info] -&gt; console</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="fu">unlink</span>(tf)</span></code></pre></div>
</div>
<div id="buffered-logging" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Buffered logging</h2>
<p>The main purpose of AppenderBuffer is to retain LogEvents in memory
and write them to destinations at a later point in time, e.g. when the
Buffer is full and needs to be flushed. For example, if you log to a
remote database you can postpone this costly operation until after your
analysis is finished.</p>
<p>By setting a <a href="#thresholds">filter</a> as a custom
<code>$should_flush()</code> method for an AppenderBuffer, you can
define more complex conditions to trigger flushing. For example, the
will output the last 5 LogEvents that happened before an
<code>error</code> occurred.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>lg <span class="ot">&lt;-</span> <span class="fu">get_logger</span>(<span class="st">&quot;buffer&quot;</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_threshold</span>(<span class="cn">NA</span>)<span class="sc">$</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_propagate</span>(<span class="cn">FALSE</span>)<span class="sc">$</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_appenders</span>(</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>    AppenderBuffer<span class="sc">$</span><span class="fu">new</span>(</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">threshold =</span> <span class="cn">NA</span>,</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">buffer_size =</span> <span class="dv">5</span>, <span class="co"># can hold 5 events, the 6th will trigger flushing</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">flush_on_exit =</span> <span class="cn">FALSE</span>,</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">flush_on_rotate =</span> <span class="cn">FALSE</span>,</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">flush_threshold =</span> <span class="st">&quot;error&quot;</span>,</span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">appenders =</span> AppenderConsole<span class="sc">$</span><span class="fu">new</span>(<span class="at">threshold =</span> <span class="cn">NA</span>)</span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a><span class="co"># The for loop below stores 8 log events in the Buffer</span></span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (nm <span class="cf">in</span> month.name[<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>]) lg<span class="sc">$</span><span class="fu">debug</span>(<span class="st">&quot;%s&quot;</span>, nm)</span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a><span class="co"># An event of level &#39;error&#39; or &#39;fatal&#39; triggers flushing of the buffer</span></span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">error</span>(<span class="st">&quot;But the days grow short when you reach September&quot;</span>)</span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; DEBUG [23:01:12.091] April</span></span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; DEBUG [23:01:12.091] May</span></span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; DEBUG [23:01:12.091] June</span></span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; DEBUG [23:01:12.092] July</span></span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; DEBUG [23:01:12.092] August</span></span>
<span id="cb42-26"><a href="#cb42-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ERROR [23:01:12.093] But the days grow short when you reach September</span></span></code></pre></div>
</div>
<div id="logging-to-databases" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Logging to
databases</h2>
<p>Logging to databases is simple, though a few aspects can be tricky to
configure based on the backend used. For performance reasons database
inserts are buffered by default. This works exactly identical as
described above for AppenderBuffer. If you want to write each LogEvent
directly to the database, just set the buffer size to <code>0</code>. As
of lgr 0.4.0, database appenders are part of the
<strong>lgrExtra</strong> package that has to be installed separately.
<strong>Database logging is still somewhat experimental</strong>.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;RSQLite&quot;)</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;lgrExtra&quot;)</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>lg <span class="ot">&lt;-</span> <span class="fu">get_logger</span>(<span class="st">&quot;db_logger&quot;</span>)</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_propagate</span>(<span class="cn">FALSE</span>)<span class="sc">$</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_appender</span>(</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">&quot;db&quot;</span>, </span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>    lgrExtra<span class="sc">::</span>AppenderDbi<span class="sc">$</span><span class="fu">new</span>(</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">conn =</span> DBI<span class="sc">::</span><span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>()),</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">table =</span> <span class="st">&quot;log&quot;</span>,</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">buffer_size =</span> 2L</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;Logging to databases uses a buffer&quot;</span>)</span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;As the buffer size is 2, no insert took place till now&quot;</span>)</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span>appenders<span class="sc">$</span>db<span class="sc">$</span><span class="fu">show</span>()</span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;Now as the buffer is rotated, all events are output to the db&quot;</span>)</span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span>appenders<span class="sc">$</span>db<span class="sc">$</span><span class="fu">show</span>()</span></code></pre></div>
</div>
<div id="adding-default-extra-fields-to-messages" class="section level2" number="4.7">
<h2><span class="header-section-number">4.7</span> Adding default extra
fields to messages</h2>
<p>By abusing Filters, lgr can modify LogEvents as they are processed.
One example for when this is useful is assigning a grouping identifier
to a series of log calls.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># setup an example function</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>clean   <span class="ot">&lt;-</span> <span class="cf">function</span>() lgr<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;cleaning data&quot;</span>)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>process <span class="ot">&lt;-</span> <span class="cf">function</span>() lgr<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;processing data&quot;</span>)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>output  <span class="ot">&lt;-</span> <span class="cf">function</span>() lgr<span class="sc">$</span><span class="fu">info</span>(<span class="st">&quot;outputing data&quot;</span>)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>analyze <span class="ot">&lt;-</span> <span class="cf">function</span>(){</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean</span>()</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">process</span>()</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">output</span>()</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><code>with_log_value()</code> provides a convenient wrapper to inject
values into log calls.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with_log_value</span>(</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">dataset_id =</span> <span class="st">&quot;dataset1&quot;</span>), </span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>()</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>An alternative way to achieve the same is to use one of the
preconfigured Filters that come with lgr. This approach is more more
comfortable for use within functions.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>analyze <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">id =</span> <span class="st">&quot;dataset1&quot;</span>){</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  lgr<span class="sc">$</span><span class="fu">add_filter</span>(FilterInject<span class="sc">$</span><span class="fu">new</span>(<span class="at">dataset_id =</span> id), <span class="at">name =</span> <span class="st">&quot;inject&quot;</span>)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">on.exit</span>(lgr<span class="sc">$</span><span class="fu">remove_filter</span>(<span class="st">&quot;inject&quot;</span>))</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean</span>()</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">process</span>()</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">output</span>()</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a><span class="fu">analyze</span>()</span></code></pre></div>
<p>The result is the same in both cases:</p>
<pre><code>#&gt; INFO  [23:01:12.132] cleaning data {dataset_id: `dataset1`}
#&gt; INFO  [23:01:12.133] processing data {dataset_id: `dataset1`}
#&gt; INFO  [23:01:12.133] outputing data {dataset_id: `dataset1`}</code></pre>
<p>You can use <code>with_log_level()</code> and
<code>FilterForceLevel</code> in a similar fashion to modify the log
level of events conveniently.</p>
</div>
<div id="temporarily-disable-logging" class="section level2" number="4.8">
<h2><span class="header-section-number">4.8</span> Temporarily disable
logging</h2>
<p>Temporary disabling logging for portions of code is straight forward
and easy with lgr:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">without_logging</span>({</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  lgr<span class="sc">$</span><span class="fu">warn</span>(<span class="st">&quot;Oh Yeah?&quot;</span>)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  lgr<span class="sc">$</span><span class="fu">fatal</span>(<span class="st">&quot;Oh No&quot;</span>)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="adding-a-custom-logger-to-a-package" class="section level2" number="4.9">
<h2><span class="header-section-number">4.9</span> Adding a custom
logger to a package</h2>
<p>If you are a package author, it is good practice to define a separate
logger for your package. This gives users the ability to easily
enable/disable logging on a per-package basis. Loggers must be
initialized in the packages .onLoad hook. You can do this by adding the
following code to any <code>.R</code> file inside the <code>R/</code>
directory of your package:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># mypackage/R/mypackage-package.R</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>.onLoad <span class="ot">&lt;-</span> <span class="cf">function</span>(...){</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">assign</span>(</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;lg&quot;</span>,  <span class="co"># the recommended name for a logger object</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    lgr<span class="sc">::</span><span class="fu">get_logger</span>(<span class="at">name =</span> <span class="st">&quot;mypackage&quot;</span>),  <span class="co"># should be the same as the package name</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">envir =</span> <span class="fu">parent.env</span>(<span class="fu">environment</span>())</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>You can also just use <code>lgr::use_logger()</code> to generate the
appropriate code for your package automatically.</p>
<p>After you set this up you can use <code>lg$fatal()</code>,
<code>lg$info()</code>, etc… inside your package. You do not have to
define any appenders, since all log events will get redirected to the
root Logger (see <a href="#hierarchy">Inheritance</a>).</p>
</div>
<div id="creating-a-layout-that-mimics-nodejs-winston-logstash" class="section level2" number="4.10">
<h2><span class="header-section-number">4.10</span> Creating a Layout
that mimics NodeJS Winston logstash</h2>
<p>see <a href="https://github.com/s-fleck/lgr/issues/29" class="uri">https://github.com/s-fleck/lgr/issues/29</a></p>
</div>
<div id="adding-the-source-file-r-script-to-the-log-event" class="section level2" number="4.11">
<h2><span class="header-section-number">4.11</span> Adding the source
file / R-script to the log event</h2>
<p>Getting the source file is sadly non-trivial in R, otherwise it would
have been included in the core logging functions. Luckily, this is easy
to add with filters and the awesome <a href="https://CRAN.R-project.org/package=this.path">this.path</a>
package. This solution works in most scenarions, but not in all (for
example, building this vignette).</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;this.path&quot;)</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>lg <span class="ot">&lt;-</span> <span class="fu">get_logger</span>(<span class="st">&quot;srcfile&quot;</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>lg<span class="sc">$</span><span class="fu">add_filter</span>(<span class="cf">function</span>(event){</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tryCatch</span>({</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>    event<span class="sc">$</span>srcfile <span class="ot">&lt;-</span> this.path<span class="sc">::</span><span class="fu">this.path</span>()</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>  }, <span class="at">error =</span> <span class="cf">function</span>(e) <span class="cn">NULL</span>)</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
</div>
</div>
<div id="references" class="section level1" number="5">
<h1><span class="header-section-number">5</span> References</h1>
<p><a href="https://docs.python.org/3/library/logging.html">Python
Logging</a></p>
<p><a href="https://gutenberg.net.au/ebooks06/0606601h.html">Eric
Stenbock: The True Story of A Vampire</a></p>
</div>
<div class="footnotes footnotes-end-of-document">
<hr />
<ol>
<li id="fn1"><p>Technically, the logger does not produce standard JSON
files but <a href="https://jsonlines.org/">JSON lines</a><a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>AppenderJson is just an AppenderFile with LayotJson as
default Layout and a few extra features<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
